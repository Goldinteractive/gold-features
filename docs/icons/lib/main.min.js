!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("js-base")):"function"==typeof define&&define.amd?define("feature-icons",["js-base"],t):"object"==typeof exports?exports["feature-icons"]=t(require("js-base")):e["feature-icons"]=t(e["js-base"])}("undefined"!=typeof self?self:this,function(e){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Icon=t.IconManager=void 0;var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(1);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=navigator.userAgent,a=r.indexOf("MSIE ")>-1||r.indexOf("Trident/")>-1,u="http://www.w3.org/2000/svg";(t.IconManager=function(){function e(t){if(s(this,e),this.options=Object.assign({},e.defaultOptions,t),!this.options.svgJsonFile)throw new Error("No SVG json data file given!");if(!this.options.svgSpriteFile)throw new Error("No SVG sprite file given!");this.$svgSprite=document.createElement("div")}return n(e,[{key:"injectSprite",value:function(e){var t=this,i=(!(arguments.length>1&&void 0!==arguments[1])||arguments[1],new XMLHttpRequest);i.open("GET",this.options.svgSpriteFile,!0),i.send(),i.onload=function(n){t.$svgSprite.innerHTML=i.responseText,document.body.insertBefore(t.$svgSprite,document.body.childNodes[0]),e(t,n)}}},{key:"loadData",value:function(e){var t=this,i=new XMLHttpRequest;i.open("GET",this.options.svgJsonFile,!0),i.send(),i.onload=function(n){t.iconsData=JSON.parse(i.responseText),e(t,n)}}},{key:"getIconFromData",value:function(e){if(!this.iconsData.icons[e])throw new Error('No icon "'+e+'" found in icon json data file "'+this.options.svgJsonFile+'"!');return this.iconsData.icons[e]}},{key:"getIconFromSprite",value:function(e){var t=this.$svgSprite.querySelector("#"+this.options.prefixId+e);if(!t)throw new Error('No icon "'+e+'" found in svg sprite file "'+this.options.svgSpriteFile+'"!');return t}}]),e}()).defaultOptions={svgJsonFile:null,svgSpriteFile:null,equal:!1,original:!1,prefixId:"icon-",prefixClass:"-icon-",iconClass:"icon-svg",wrapClass:"icon-box",accessible:!1,responsive:!1,responsiveClass:"-responsive",width:200,height:200};var l=t.Icon=function(e){function t(){return s(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.features.Feature),n(t,[{key:"init",value:function(){var e=this;if(this.id=this.node.getAttribute("data-icon"),this.polyfilled=!1,!this.options.manager)throw new Error('Icon "'+this.id+'" feature needs to be initialized with a IconManager instance!');if(!this.id)return console.error('No "data-icon" attribute defined',this.node),!1;var t=this.node.querySelector("svg")||document.createElementNS(u,"svg"),i=this.options.manager,n=this.options.manager.options,o=this.node.getAttribute("data-responsive");this.responsive=null!==o||n.responsive;var s=this.node.getAttribute("data-equal");this.equal=null!==s||n.equal;var r=this.node.getAttribute("data-accessible");this.accessible=null!==r||n.accessible;var l=this.node.getAttribute("data-original");this.original=null!==l||n.original;var c=i.getIconFromData(this.id).attributes,d=[].concat(function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(i.getIconFromSprite(this.id).childNodes));if(!d)return console.error('Icon "'+this.id+'" has no child nodes in svg sprite!',this.node),!1;t.setAttribute("role","img"),t.setAttribute("aria-hidden",this.accessible?"false":"true");var h=c.width?parseFloat(c.width):null,p=c.height?parseFloat(c.height):null;for(var f in c)c.hasOwnProperty(f)&&("width"!=f&&"height"!=f||this.original)&&t.setAttribute(f,c[f]);if(t.setAttribute("class",n.iconClass+" "+n.prefixClass+this.id),this.node.classList.add(n.wrapClass),this.node.classList.add(n.prefixClass+this.id),this.original&&(this.node.classList.add("-original"),this.node.style.width=h+"px",this.node.style.height=p+"px"),this.equal&&this.node.classList.add("-equal"),this.responsive){var g=p/h*100;this.node.style.paddingBottom=g+"%",this.node.classList.add(n.responsiveClass)}else{var v=document.createElement("canvas");v.classList.add("icon-canvas"),v.setAttribute("width",h),v.setAttribute("height",p),v.setAttribute("aria-hidden","true"),this.node.appendChild(v)}a?(d.forEach(function(e){t.appendChild(e.cloneNode(!0))}),this.polyfilled=!0):(this.$use=document.createElementNS(u,"use"),this.updateUseLink(),this.onHub("statechange",function(){e.updateUseLink()}),this.onHub("icons:update",function(){e.updateUseLink()}),t.appendChild(this.$use)),this.node.appendChild(t)}},{key:"updateUseLink",value:function(){if(this.$use){var e="//"+window.location.host+window.location.pathname+window.location.search+"#"+this.options.manager.options.prefixId+this.id;this.$use.setAttribute("href",e),this.$use.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e)}}}]),t}();l.defaultOptions={manager:null},t.default=l},function(t,i){t.exports=e}])});
//# sourceMappingURL=main.min.js.map