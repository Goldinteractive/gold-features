!function(t,o){"object"==typeof exports&&"object"==typeof module?module.exports=o(require("js-base")):"function"==typeof define&&define.amd?define("feature-headroom",["js-base"],o):"object"==typeof exports?exports["feature-headroom"]=o(require("js-base")):t["feature-headroom"]=o(t["js-base"])}("undefined"!=typeof self?self:this,function(t){return function(t){var o={};function e(n){if(o[n])return o[n].exports;var i=o[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=o,e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},e.p="",e(e.s=0)}([function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n,i=function(){function t(t,o){for(var e=0;e<o.length;e++){var n=o[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(o,e,n){return e&&t(o.prototype,e),n&&t(o,n),o}}(),s=e(1),r=e(2),c=(n=r)&&n.__esModule?n:{default:n};var l=function(t){function o(){return function(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o),function(t,o){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?t:o}(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);t.prototype=Object.create(o&&o.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(t,o):t.__proto__=o)}(o,s.features.Feature),i(o,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options,o=t.onPin,e=t.onUnpin;t.customClasses.length>0&&(o=function(){t.customClasses.forEach(function(t){t.element.classList.add(t.pinClass)}),t.onPin()},e=function(){t.customClasses.forEach(function(t){t.element.classList.remove(t.pinClass)}),t.onUnpin()}),this.headroom=new c.default(this.node,{offset:t.offset,tolerance:t.tolerance,classes:t.classes,onNotTop:t.onNotTop,onTop:t.onTop,onPin:o,onUnpin:e}),this.headroom.init()}},{key:"update",value:function(){this.headroom.update()}},{key:"destroy",value:function(){(function t(o,e,n){null===o&&(o=Function.prototype);var i=Object.getOwnPropertyDescriptor(o,e);if(void 0===i){var s=Object.getPrototypeOf(o);return null===s?void 0:t(s,e,n)}if("value"in i)return i.value;var r=i.get;return void 0!==r?r.call(n):void 0})(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"destroy",this).call(this),this.headroom.destroy()}}]),o}();l.defaultOptions={offset:0,tolerance:0,classes:{initial:"headroom",pinned:"-pinned",unpinned:"-unpinned",top:"-top",notTop:"-not-top",bottom:"-bottom",notBottom:"-not-bottom"},onNotTop:function(){},onTop:function(){},onPin:function(){},onUnpin:function(){},customClasses:[]},o.default=l},function(o,e){o.exports=t},function(t,o,e){var n,i,s;!function(e,r){"use strict";i=[],void 0===(s="function"==typeof(n=r)?n.apply(o,i):n)||(t.exports=s)}(0,function(){"use strict";var t={bind:!!function(){}.bind,classList:"classList"in document.documentElement,rAF:!!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)};function o(t){this.callback=t,this.ticking=!1}function e(t,o){var n;o=function t(o){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var e,n,i,s=o||{};for(n=1;n<arguments.length;n++){var r=arguments[n]||{};for(e in r)"object"!=typeof s[e]||(i=s[e])&&"undefined"!=typeof window&&(i===window||i.nodeType)?s[e]=s[e]||r[e]:s[e]=t(s[e],r[e])}return s}(o,e.options),this.lastKnownScrollY=0,this.elem=t,this.tolerance=(n=o.tolerance)===Object(n)?n:{down:n,up:n},this.classes=o.classes,this.offset=o.offset,this.scroller=o.scroller,this.initialised=!1,this.onPin=o.onPin,this.onUnpin=o.onUnpin,this.onTop=o.onTop,this.onNotTop=o.onNotTop,this.onBottom=o.onBottom,this.onNotBottom=o.onNotBottom}return window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,o.prototype={constructor:o,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},e.prototype={constructor:e,init:function(){if(e.cutsTheMustard)return this.debouncer=new o(this.update.bind(this)),this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this},destroy:function(){var t=this.classes;for(var o in this.initialised=!1,t)t.hasOwnProperty(o)&&this.elem.classList.remove(t[o]);this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var t=this.elem.classList,o=this.classes;!t.contains(o.pinned)&&t.contains(o.unpinned)||(t.add(o.unpinned),t.remove(o.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var t=this.elem.classList,o=this.classes;t.contains(o.unpinned)&&(t.remove(o.unpinned),t.add(o.pinned),this.onPin&&this.onPin.call(this))},top:function(){var t=this.elem.classList,o=this.classes;t.contains(o.top)||(t.add(o.top),t.remove(o.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var t=this.elem.classList,o=this.classes;t.contains(o.notTop)||(t.add(o.notTop),t.remove(o.top),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){var t=this.elem.classList,o=this.classes;t.contains(o.bottom)||(t.add(o.bottom),t.remove(o.notBottom),this.onBottom&&this.onBottom.call(this))},notBottom:function(){var t=this.elem.classList,o=this.classes;t.contains(o.notBottom)||(t.add(o.notBottom),t.remove(o.bottom),this.onNotBottom&&this.onNotBottom.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},getViewportHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getElementPhysicalHeight:function(t){return Math.max(t.offsetHeight,t.clientHeight)},getScrollerPhysicalHeight:function(){return this.scroller===window||this.scroller===document.body?this.getViewportHeight():this.getElementPhysicalHeight(this.scroller)},getDocumentHeight:function(){var t=document.body,o=document.documentElement;return Math.max(t.scrollHeight,o.scrollHeight,t.offsetHeight,o.offsetHeight,t.clientHeight,o.clientHeight)},getElementHeight:function(t){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},getScrollerHeight:function(){return this.scroller===window||this.scroller===document.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(t){var o=t<0,e=t+this.getScrollerPhysicalHeight()>this.getScrollerHeight();return o||e},toleranceExceeded:function(t,o){return Math.abs(t-this.lastKnownScrollY)>=this.tolerance[o]},shouldUnpin:function(t,o){var e=t>this.lastKnownScrollY,n=t>=this.offset;return e&&n&&o},shouldPin:function(t,o){var e=t<this.lastKnownScrollY,n=t<=this.offset;return e&&o||n},update:function(){var t=this.getScrollY(),o=t>this.lastKnownScrollY?"down":"up",e=this.toleranceExceeded(t,o);this.isOutOfBounds(t)||(t<=this.offset?this.top():this.notTop(),t+this.getViewportHeight()>=this.getScrollerHeight()?this.bottom():this.notBottom(),this.shouldUnpin(t,e)?this.unpin():this.shouldPin(t,e)&&this.pin(),this.lastKnownScrollY=t)}},e.options={tolerance:{up:0,down:0},offset:0,scroller:window,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},e.cutsTheMustard=void 0!==t&&t.rAF&&t.bind&&t.classList,e})}])});
//# sourceMappingURL=main.min.js.map